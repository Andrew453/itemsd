# itemsd
Пример HTTPS/HTTP сервера

Для работы с методом /get-items 
Необходимо через запятую вписать необходимые id объектов в заголовке запроса Items-IDs

При этом стоит учитывать, что в конфигурации запуска приложения настраивается количество id,
которые будут обработана в одном запросе.
Если количество id в заголовке больше, то результат будет ошибочный.

Если id в запросе дублируются, то в процессе обработки запроса дубликаты будут удалены и поиск по csv файлу будет
произведен исключительно по уникальным id.

При написании кода учитывались следующие параметры сервера:
1. Ограниченность мощности. За счет этого работа с файлом осуществляется исключительно через один файловый дескриптор(sync.Mutex).
    Если учесть, что имеется машина с достаточной мощностью для работы с несколькими тысячами(сотнями тысяч) файловых
    Дескрипторов параллельно, то можно использовать GetItemsAsync, в котором на каждый запрос к таблице данных
    Создается свое соединение с файлом - источником. При этом стоит учитывать, что помимо самого приложения необходимо 
    Настроить и саму машину, в частности, количество открытых дескрипторов в системе.
2. Большие объемы данных в CSV файле. В ином случае реализацию можно было бы свести к созданию локального кэша в
    Оперативной памяти и работой исключительно с ней. Это возможно осуществить с помощью внешних решений: таких, как
   https://github.com/dgraph-io/ristretto . Либо с помощью внутренней собственной реализации кэша с использованием
    разного функционала асинхронного программирования: в первую очередь sync.Map, но также sync.Mutex, каналы.

Пример запроса:
Headers:
    Items-IDs:872,872

